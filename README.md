  # CountDown

  ## CountDownとは

1から25までの数字を順番にクリックorタップして消していき、早いタイムを目指すゲームです。<br>

<br>
<br>

<!-- <div align="center">
  <img src="./develop/images/RM_mv.png" width="45%">
</div> -->
<div align="center">
  <img src="./develop/images/RM_move.gif" width="50%">

<br>

<br>

  ### サイトURL:<br>
:link: [https://count--down.web.app/](https://count--down.web.app/)

<br>

  ### 制作環境: <br>
:computer: Mac GoogleChrome(ver: 最新) <br>

  ### 動作確認環境: <br>
:computer: Mac GoogleChrome,Safari,Firefox <br>
:iphone: iPhone8 iOS 13 GoogleChrome,safari,firefox
(画面サイズ: iPhone6/7/8~)<br>
<br>
＊スマホでは縦（ポートレート）推奨。
<br>
</div>

<br>

***

<br>

  ## 制作背景

ライブラリを使わないJavaScript、Webpack4を用いたコンパイル、Sassや、FLOCSSを用いた(意識)したCSS等、フロントエンド系の諸技術を使用した習作として制作しました。

<br>

***

<br>


  ## なぜこのゲームを作ろうと思ったか

  ほぼ同じ内容のゲームアプリを、何年も前に好きで良くプレイしていました。<br>
  ある時ふと思い出し、「今ならアレを作る事ができるな。」と思った事ががきっかけでした。<br>

  また、時間経過の概念があるものを作ってみたいと思っていた、という理由もありました。<br>
<br>
<br>

***
<br>


  ## ゲームの流れ

<br>

  ### 1. &nbsp; スタートボタンを押すと、数字がランダムで配置され、タイムカウンターが動きます

<br>

  ### 2. &nbsp; 数字を順番にクリック (タップ) していきます。

<br>

  ### 3. &nbsp; 最後の数字 (25) を消したら、ゲームクリア！<br>

<br>

  ### 4. &nbsp; タイムを見て一喜一憂する :laughing:

<br>
<br>

<br>

***

<br>



  ## 工夫した点


  ### 表示調整用スライドバー（レンジスライダー）<br>
  ゲームフィールドの表示位置や大きさを調整するためのスライドバーを用意してみました。<br>

  ゲームの性質上、普通のレスポンシブ対応のように、ウィンドウ幅で表示サイズを変えるだけでは不十分だと感じ、プレイヤー自身でプレイしやすく微調整できるように用意しました。<br>

  <br>
  <br>
  また、このスライドバーは、端末がスマホ・PCの場合で役割が変わります。<br>

  - PCで遊ぶ場合<br>
  ゲームフィールド及び、上部の得点と時間のカウンターが(ゲームフィールドとは少し違う幅で)拡大・縮小されます。

- スマホ（縦）で遊ぶ場合<br>
  ゲームフィールドの大きさは変わらず、画面全体に対するゲームフィールドの上下位置を微調整する事ができます。<br>

  速さを求め始めると、最適な環境を整えてチャレンジしたくなります。<br>

  指が届かないと困るので、下に持って来れるようにしたいと思いました。<br>


まだ機能としても思った通りの挙動にできていないので、たまにトライして、改善していきたいと考えています。
<br>

***

<br>

  ### メンテナンス性を高める書き方を意識<br>

メンテナンス、デバッグ、拡張などをしやすいようにコードを書くよう、自分なりに意識してみました。<br>
（まだまだ工夫できる所はとても多くあると思いますし、それに気づけるよう、知識を深めていきたいと思います。）
<br>
<br>
実際に書いたコードをいくつか例に挙げてみます。

```JavaScript:&nbsp;script.js

document.addEventListener('DOMContentLoaded', () => {
  ~~~
  ~~~
  changeState('pre'); // デバッグ用
  endCommentSelect('800'); // デバッグ用
});
```
- changeState() の引数に、 ['pre','play','post']を渡すことにより、表示の切り替えを行う事ができます。<br>
<!-- ここに画像 -->
<div align="center">
  <img src="./develop/images/RM_pre.png" width="30%"> <img src="./develop/images/RM_play.png" width="30%"> <img src="./develop/images/RM_post.png" width="30%">
  <div>左から、 'pre'時の画面、'play'時の画面、'post'時の画面</div>
</div>

&nbsp; &nbsp; &nbsp; ▲ &nbsp; この中央の四角いエリアが切り替わります。<br>


```JavaScript:&nbsp;script.js

let conditionToGameClear = 0; // (25 - num)番の要素をクリックしたらゲームクリア

let Game = { point: 0 };
```
- `conditionToGameClear` <br>
  ゲームの終了条件を操作できます。引数に0〜23の数字を渡すことにより、好きな数でゲームを終える事ができます。<br>

  例）<br>
  ・デバッグしたい： &nbsp;23&nbsp; に設定。<br>
    => １枚消すだけでゲームを終える事ができます。<br>

  ・数字を16個にしたい： &nbsp;9&nbsp; に設定。<br>
    => Pag,Sassを使っているのもあり、数分で使用変更が可能です。
<br>
<br>

- `Game`<br>
  得点の初期値を設定する事ができます。<br>
    => 'pre'画面で出てくるメッセージは正答率に合わせて変化します。例えば、この機能をテストする際にはこのように指定します。

    ```
    conditionToGameClear = 23
    Game = { point:960 } // フルスコア時のシュミレート
    ```

<br>
<br>

***

<br>

  ## 反省点

<br>

  ### 一度作り直した<br>
  実はこのアプリケーションは、一度作ったものを修正したものです。<br>
  一月ほど前、一度簡単に作ってみたものを反省を込めて修正しました。<br>
  一度は動くことを目標に作っていましたが、なるべく綺麗に、整理して組む事を意識して修正しました。
  <br>
  <br>


なお、以下のように改善したいリストを要因に分け、修正を行いました。

  --- 前回気になっていたところ ---
<br>

1. 単純に整理されていない事が原因の部分

  - コードの可読性が低いこと
  - 無駄な記述が多いこと


2. 学びを進めた為、気付けた点

  - CSSが雑だったこと
  - メンテナンス性を意識できていなかったこと
  - その時必要ない処理が大量に読まれていたこと
  - 整理されたコードの設計をする工夫が足りないこと

3. そもそも当時やっていなかったこと
  - レスポンシブ対応
  - Pugで書き直す
<br>



<br>


  ### ゲームフィールドを自動で表示調整する機能の 動作・記述方法について<br>
  この部分については、現状JSのif文で実装されているため、
  動作の滑らかさ、レスポンスの速さや、コードが長くなってしまうなど 色々と良くないなと考えています。<br>

  追ってif文ではない方法で修正したいと思います。<br>

<br>

***

<br>

### 今後改善したい箇所

- ~反省点でも挙げた画面の表示調整のJSの記述は修正する予定です。<br>
  効率的な記述をできるように、新しいロジックを加えたいと思います。

- タイムの記録を残せるようにすること<br>
  => 良いタイムを目指すための装置を用意したいと思っています。候補としては主に以下の2案です<br>
  1. Firebaseに接続するなどして他ユーザーを含めたランキング形式にし、タイム・ニックネーム などを登録できるようにする。
  2. 個人で楽しむことにより焦点を当て、今日の最高記録や正答率などの情報を出す。
<br>

- 配色・デザインをもう少し改善したい！

- ~~ゲームフィールド内、5*5の数字の部分のPugをループ処理で書き換える。~~ (書き変え済み)<br>

<br>

***

<br>
<br>
:copyright: MasatoYamada

